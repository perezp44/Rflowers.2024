<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Pedro J. Pérez">
<title>My last blog’s (2024-9999) - Evolución del número de municipios en España (1842-2021)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../imagenes/ababol_redondeado.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet"><script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la busqueda",
    "search-hide-matches-text": "Esconder resultados adicionales",
    "search-more-match-text": "hay más resultados en este documento",
    "search-more-matches-text": "más resultados en este documento",
    "search-clear-button-title": "Borrar",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><style>html{ scroll-behavior: smooth; }</style>
<script src="../../site_libs/core-js-2.5.3/shim.min.js"></script><script src="../../site_libs/react-17.0.0/react.min.js"></script><script src="../../site_libs/react-17.0.0/react-dom.min.js"></script><script src="../../site_libs/reactwidget-1.0.0/react-tools.js"></script><script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script><link href="../../site_libs/reactable-0.4.4.9000/reactable.css" rel="stylesheet">
<script src="../../site_libs/reactable-binding-0.4.4.9000/reactable.js"></script><link rel="stylesheet" href="../../assets/quarto_yaml_styles.css">
<link rel="stylesheet" href="../assets/my_css_file.css">
<meta property="og:title" content="My last blog’s (2024-9999) - Evolución del número de municipios en España (1842-2021)">
<meta property="og:description" content="Utilizando datos de los censos históricos y del Padrón se realizan visualizaciones de la evolución del número de municipios españoles en el tiempo, desde el censo de 1842 hasta la actualidad.">
<meta property="og:image" content="https://perezp44.github.io/Rflowers.2024/blog_Rflowers/2022-07-13_censos-historicos_02/imagenes/thumbnail.png">
<meta property="og:site_name" content="My last blog's (2024-9999)">
<meta property="og:image:height" content="426">
<meta property="og:image:width" content="640">
<meta name="twitter:title" content="My last blog’s (2024-9999) - Evolución del número de municipios en España (1842-2021)">
<meta name="twitter:description" content="Utilizando datos de los censos históricos y del Padrón se realizan visualizaciones de la evolución del número de municipios españoles en el tiempo, desde el censo de 1842 hasta la actualidad.">
<meta name="twitter:image" content="https://perezp44.github.io/Rflowers.2024/blog_Rflowers/2022-07-13_censos-historicos_02/imagenes/thumbnail.png">
<meta name="twitter:creator" content="@pjpv4444">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="426">
<meta name="twitter:image-width" content="640">
</head>
<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><nav class="navbar navbar-expand-lg " data-bs-theme="dark"><div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../imagenes/ababol_redondeado.png" alt="" class="navbar-logo"></a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My last blog’s (2024-9999)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item compact">
    <a class="nav-link" href="../../index.html"> <i class="bi bi-house-door" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
<ul class="navbar-nav navbar-nav-scroll ms-auto">
<li class="nav-item">
    <a class="nav-link" href="../../blog_Rflowers.html" target="_blank"> 
<span class="menu-text">R &amp; flowers</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog_TBits.html" target="_blank"> 
<span class="menu-text">TBits</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">Pedro J. Pérez</span></a>
  </li>  
</ul>
</div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://github.com/perezp44" title="" class="quarto-navigation-tool px-1" aria-label="" target="_blank"><i class="bi bi-github"></i></a>
    <a href="mailto:pedro.j.perez@uv.es" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-envelope"></i></a>
    <a href="https://fosstodon.org/@pjperez" title="Mastodon" class="quarto-navigation-tool px-1" aria-label="Mastodon" target="_blank"><i class="bi bi-mastodon"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav></header><!-- content --><header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full"><div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Evolución del número de municipios en España (1842-2021)</h1>
            <p class="subtitle lead"></p>
<p>Utilizando datos de los censos históricos y del Padrón se realizan visualizaciones de la evolución del número de municipios españoles en el tiempo, desde el censo de 1842 hasta la actualidad.</p>
                                <div class="quarto-categories">
                <div class="quarto-category">datos INE</div>
                <div class="quarto-category">Censos históricos</div>
                <div class="quarto-category">municipios</div>
                <div class="quarto-category">número de municipios</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author column-body">
    <div class="quarto-title-meta-heading">Autor</div>
    <div class="quarto-title-meta-heading">Afiliación</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://perezp44.github.io/pjperez.web/">Pedro J. Pérez</a> <a href="https://orcid.org/0000-0001-9375-6330" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              <a href="https://www.uv.es">
              Universitat de València
              </a>
            </p>
        </div>
    </div>

  <div class="quarto-title-meta column-body">

        
      <div>
      <div class="quarto-title-meta-heading">Fecha de Publicación</div>
      <div class="quarto-title-meta-contents">
        <p class="date">13 de julio de 2022</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Fecha de modificación</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">25 de febrero de 2024</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Índice</h2>
   
  <ul>
<li><a href="#introducci%C3%B3n" id="toc-introducción" class="nav-link active" data-scroll-target="#introducci%C3%B3n"><span class="header-section-number">1</span> Introducción</a></li>
  <li><a href="#cuantos-municipios-han-existido-en-espa%C3%B1a" id="toc-cuantos-municipios-han-existido-en-españa" class="nav-link" data-scroll-target="#cuantos-municipios-han-existido-en-espa%C3%B1a"><span class="header-section-number">2</span> ¿Cuantos municipios han existido en España?</a></li>
  <li><a href="#evoluci%C3%B3n-del-n%C3%BAmero-de-municipios-censos" id="toc-evolución-del-número-de-municipios-censos" class="nav-link" data-scroll-target="#evoluci%C3%B3n-del-n%C3%BAmero-de-municipios-censos"><span class="header-section-number">3</span> Evolución del número de municipios (Censos)</a></li>
  <li><a href="#evoluci%C3%B3n-del-n%C3%BAmero-de-municipios-padr%C3%B3n" id="toc-evolución-del-número-de-municipios-padrón" class="nav-link" data-scroll-target="#evoluci%C3%B3n-del-n%C3%BAmero-de-municipios-padr%C3%B3n"><span class="header-section-number">4</span> Evolución del número de municipios (Padrón)</a></li>
  <li><a href="#curiosidades" id="toc-curiosidades" class="nav-link" data-scroll-target="#curiosidades"><span class="header-section-number">5</span> Curiosidades</a></li>
  <li><a href="#biblio" id="toc-biblio" class="nav-link" data-scroll-target="#biblio"><span class="header-section-number">6</span> Biblio</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/perezp44/Rflowers.2024/edit/master/blog_Rflowers/2022-07-13_censos-historicos_02/index.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/perezp44/Rflowers.2024/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li></ul></div></nav>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full column-body" id="quarto-document-content"><p><br></p>
<section id="introducción" class="level2 page-columns page-full" data-number="1"><h2 data-number="1" class="anchored" data-anchor-id="introducción">
<span class="header-section-number">1</span> Introducción</h2>
<p>En el <a href="../../posts/2022-07-12_censos-historicos_01/index.html">post anterior</a> describí el proceso para obtener los datos de los censos históricos del INE. Los censos proporcionan datos de población a nivel municipal<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, de forma que ahora utilizaré esos datos para analizar como ha evolucionado el <strong>número de municipios en España</strong> en el tiempo.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p><strong>Objetivo</strong>: ver la evolución del número de municipios en España.</p>
</div></div><p>El municipio en España es una <strong>entidad administrativa de nivel local</strong> que puede agrupar a una o varias localidades; por ejemplo el <a href="https://es.wikipedia.org/wiki/Pancrudo">municipio de Pancrudo</a> agrupa cuatro localidades<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.Los municipios no son entidades fijas, sino que por distintos motivos <strong>hay municipios que desaparecen y otros que aparecen</strong>. Por ejemplo, <a href="https://www.ine.es/intercensal/intercensal.do?search=1&amp;error1=Debe+introducir+un+nombre+de+municipio.&amp;error2=Debe+introducir+al+menos+3+caracteres.&amp;cmbTipoBusq=0&amp;textoMunicipio=Torremolinos&amp;btnBuscarDenom=Consultar+selecci%C3%B3n">Torremolinos</a> existió como municipio hasta el censo de 1920, para desaparecer en el de 1930 por su integración en el municipio de Málaga, para posteriormente, en el censo de 1991, volver a ser municipio tras segregarse de Málaga.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>El número de municipios cambia en el tiempo.</p>
</div></div></section><section id="cuantos-municipios-han-existido-en-españa" class="level2 page-columns page-full" data-number="2"><h2 data-number="2" class="anchored" data-anchor-id="cuantos-municipios-han-existido-en-españa">
<span class="header-section-number">2</span> ¿Cuantos municipios han existido en España?</h2>
<p>Debería ser una pregunta fácil de responder pero no lo es; como ejemplo <a href="https://www.hacienda.gob.es/Documentacion/Publico/SGT/CATALOGO_SEFP/100_Variaciones-INTERNET.pdf">este documento</a>. Hasta donde yo sé, no existe en España un registro del que pueda obtenerse el número de municipios que han existido en el tiempo; así que, trataré de dar una respuesta utilizando los datos de los Censos históricos y del Padrón.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>No es una pregunta fácil.</p>
</div></div><p>Lo que si puedo decir es que, con datos del Padrón de 2021, <strong>actualmente hay en España 8.131 municipios</strong>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Actualmente hay 8.131 municipios.</p>
</div></div><p>El INE proporciona datos de <strong>18 censos</strong> de población, el primero en 1842 y el último en 2011. En el censo de 1842 hay datos de 11.291 municipios, mientras que en el de 2021, hay 8.116; es decir, una reducción de 3.175 municipios a lo largo de este periodo. Con esta información parece que la respuesta debería ser 11.291, pero no es así, la dinámica de creación y desaparición de municipios es más compleja, hay municipios como <a href="https://www.ine.es/intercensal/intercensal.do?search=1&amp;error1=Debe+introducir+un+nombre+de+municipio.&amp;error2=Debe+introducir+al+menos+3+caracteres.&amp;cmbTipoBusq=0&amp;textoMunicipio=Torremolinos&amp;btnBuscarDenom=Consultar+selecci%C3%B3n">Torremolinos</a>, que desaparecen y vuelven a aparecer.</p>
<p>En los 18 censos que proporciona el INE podemos encontrar un total de <strong>11.910 códigos municipales únicos</strong>, así que parece que han existido en ese periodo el mismo número de municipios. Digo parece porque la respuesta no es tan clara, ya que hay casos como la localidad Gatova, que cambió su código municipal de 12066 a 46092 al incorporarse a la provincia de Valencia, desde la de Castellón, en el censo de 2001. ¿Son municipios diferentes? Bueno, podemos pensar que sí, ya que tienen códigos municipales diferentes.</p>
<p>Así que, según mis cuentas y utilizando datos de los Censos<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>, han existido<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a> en España <strong>11.910 municipios</strong>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Con datos de los Censos, de 1842 a 2011, han existido 11.910 municipios.</p>
</div></div><p>Sin embargo, el último censo publicado es de 2011 y estamos en 2022, así que se han podido crear más municipios desde 2011 hasta la actualidad. Efectivamente, si utilizamos los datos del Padrón<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, desde 2011 a 2022 se crearon en España 16 municipios que no existían antes, por lo que la respuesta final es: <strong>han existido 11.926 municipios</strong> en Spain.</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>Añadiendo los datos del Padrón, ese número aumenta hasta los <strong>11.926 municipios</strong>.</p>
</div></div><p>Como actualmente, con datos del Padrón de 2021, existen 8.131 municipios<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a>, eso quiere decir que desde el censo de 1842 se ha reducido el número de municipios en 3.795.</p>
</section><section id="evolución-del-número-de-municipios-censos" class="level2" data-number="3"><h2 data-number="3" class="anchored" data-anchor-id="evolución-del-número-de-municipios-censos">
<span class="header-section-number">3</span> Evolución del número de municipios (Censos)</h2>
<p>Utilizando los datos de los 18 censos de población disponibles en la web del INE, la evolución del número de municipios puede verse en <a href="#fig-nn-muni-censo" class="quarto-xref">Figura&nbsp;1</a> .</p>
<div class="cell" data-hash="index_cache/html/fig-nn-muni-censo_ce53f6900319798ac11bee1f840d7b56">
<div class="cell-output-display">
<div id="fig-nn-muni-censo" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-nn-muni-censo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./imagenes/plot_nn_muni_censo.png" class="img-fluid figure-img" width="1890">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nn-muni-censo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Gráfico&nbsp;1: Evolución del número de municipios (datos de los Censos). Juro que mejoraré el gráfico!!!!
</figcaption></figure>
</div>
</div>
</div>
<p>En la <a href="#fig-nn-muni-censo" class="quarto-xref">Figura&nbsp;1</a> se aprecia que desde 1842 se ha reducido el número de municipios, principalmente entre el censo de 1842 y el de 1933, y en los censos de 1979 y 1981. De las explicaciones no sé mucho: 1) el censo de 1842 fue, como leí no sé donde, un censo extraño, y 2) A partir de 1970 se hizo un esfuerzo político por reducir el número de municipios …..</p>
<p>Para ahondar un poco más en la dinámica de la evolución del número de municipios en el tiempo, en la siguiente tabla se muestra más información.</p>
<div class="cell" data-hash="index_cache/html/unnamed-chunk-3_9c184ca705feadf62a04150e59584081">
<div class="cell-output-display">
<div class="cell" data-hash="index_cache/html/unnamed-chunk-6_6be514299dedc78d23df763184c288da">
<details class="code-fold"><summary>Código</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2"></a></span>
<span id="cb1-3"><a href="#cb1-3"></a>df <span class="ot">&lt;-</span> pjpv.datos<span class="fl">.2022</span><span class="sc">::</span>ine_censos_historicos <span class="co">#- censos históricos (1842-2011)</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># TABLA GOOD del CENSO: </span></span>
<span id="cb1-6"><a href="#cb1-6"></a>tabla_0 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(pob) <span class="sc">%&gt;%</span> </span>
<span id="cb1-7"><a href="#cb1-7"></a>  <span class="fu">group_by</span>(year) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">nn =</span> <span class="fu">n_distinct</span>(ine_muni))</span>
<span id="cb1-8"><a href="#cb1-8"></a></span>
<span id="cb1-9"><a href="#cb1-9"></a>tabla_1 <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb1-10"><a href="#cb1-10"></a>  <span class="fu">filter</span>(indicador <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"aparece"</span>, <span class="st">"desaparece"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-11"><a href="#cb1-11"></a>  <span class="fu">count</span>(year, indicador) <span class="sc">%&gt;%</span> </span>
<span id="cb1-12"><a href="#cb1-12"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> indicador, <span class="at">values_from =</span> n) <span class="sc">%&gt;%</span> </span>
<span id="cb1-13"><a href="#cb1-13"></a>  <span class="fu">mutate</span>(<span class="at">nn_netos =</span> aparece <span class="sc">-</span> desaparece) <span class="sc">%&gt;%</span> </span>
<span id="cb1-14"><a href="#cb1-14"></a>  <span class="fu">add_case</span>(<span class="at">year =</span> <span class="dv">1842</span>, <span class="at">.before =</span> <span class="dv">1</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a></span>
<span id="cb1-16"><a href="#cb1-16"></a>tabla_1a <span class="ot">&lt;-</span> <span class="fu">left_join</span>(tabla_0, tabla_1) <span class="sc">%&gt;%</span> </span>
<span id="cb1-17"><a href="#cb1-17"></a>  <span class="fu">mutate</span>(<span class="at">comprobacion =</span> nn_netos) <span class="sc">%&gt;%</span> </span>
<span id="cb1-18"><a href="#cb1-18"></a>  <span class="fu">mutate</span>(<span class="at">comprobacion =</span> <span class="fu">ifelse</span>(year <span class="sc">==</span> <span class="st">"1842"</span>, <span class="fu">first</span>(nn), comprobacion)) <span class="sc">%&gt;%</span> </span>
<span id="cb1-19"><a href="#cb1-19"></a>  <span class="fu">mutate</span>(<span class="at">comprobacion =</span> <span class="fu">cumsum</span>(comprobacion) <span class="sc">-</span> nn)</span>
<span id="cb1-20"><a href="#cb1-20"></a></span>
<span id="cb1-21"><a href="#cb1-21"></a>tabla_censo_ok <span class="ot">&lt;-</span> tabla_1a <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">-</span>comprobacion)</span>
<span id="cb1-22"><a href="#cb1-22"></a><span class="fu">names</span>(tabla_censo_ok) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Censo"</span>, <span class="st">"Nº municipios"</span>, <span class="st">"desaparecen"</span>, <span class="st">"aparecen"</span>, <span class="st">"Incremento"</span>)</span>
<span id="cb1-23"><a href="#cb1-23"></a>tabla_censo_ok <span class="ot">&lt;-</span> tabla_censo_ok <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="st">"Incremento"</span>, <span class="fu">everything</span>())</span>
<span id="cb1-24"><a href="#cb1-24"></a></span>
<span id="cb1-25"><a href="#cb1-25"></a>table_ok <span class="ot">&lt;-</span> tabla_censo_ok <span class="sc">%&gt;%</span> </span>
<span id="cb1-26"><a href="#cb1-26"></a>  reactable<span class="sc">::</span><span class="fu">reactable</span>(<span class="at">defaultPageSize =</span> <span class="dv">18</span>, <span class="at">theme =</span> reactablefmtr<span class="sc">::</span><span class="fu">fivethirtyeight</span>()) </span>
<span id="cb1-27"><a href="#cb1-27"></a></span>
<span id="cb1-28"><a href="#cb1-28"></a>table_ok</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div class="reactable html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c068bfbb4c972ef3b9a2" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c068bfbb4c972ef3b9a2">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Censo":[1842,1857,1860,1877,1887,1897,1900,1910,1920,1930,1940,1950,1960,1970,1981,1991,2001,2011],"Nº municipios":[11291,9358,9366,9315,9288,9275,9267,9263,9255,9262,9257,9214,9201,8653,8022,8075,8108,8116],"Incremento":["NA",-1933,8,-51,-27,-13,-8,-4,-8,7,-5,-43,-13,-548,-631,53,33,8],"desaparecen":["NA",2199,13,94,51,39,10,13,19,81,32,50,27,598,710,14,3,1],"aparecen":["NA",266,21,43,24,26,2,9,11,88,27,7,14,50,79,67,36,9]},"columns":[{"id":"Censo","name":"Censo","type":"numeric"},{"id":"Nº municipios","name":"Nº municipios","type":"numeric"},{"id":"Incremento","name":"Incremento","type":"numeric"},{"id":"desaparecen","name":"desaparecen","type":"numeric"},{"id":"aparecen","name":"aparecen","type":"numeric"}],"defaultPageSize":18,"theme":{"color":"#222222","backgroundColor":"#ffffff","borderColor":"#dddddd","borderWidth":"1px","stripedColor":"#dddddd","highlightColor":"#f0f0f0","cellPadding":5,"tableStyle":{"fontSize":14,"borderBottom":"3px solid #222222"},"headerStyle":{"borderWidth":"3px","paddingTop":"12px","verticalAlign":"bottom","textAlign":"bottom","background":"#ffffff","textTransform":"uppercase","borderColor":"#222222","color":"#000000","&:hover":{"background":"#dddddd"},"&[aria-sort='ascending'], &[aria-sort='descending']":{"background":"#5b5e5f","color":"#ffffff"},"borderColor.1":"#333","fontSize":12},"groupHeaderStyle":{"&:not(:empty)":{"paddingBottom":"3px","verticalAlign":"bottom","textAlign":"bottom","backgroundColor":"#ffffff","textTransform":"uppercase","fontSize":12,"color":"#222222"}},"rowSelectedStyle":{"backgroundColor":"#dddddd"},"inputStyle":{"backgroundColor":"#ffffff","color":"#222222"},"searchInputStyle":{"textTransform":"uppercase","color":"#222222","fontSize":"14px"},"paginationStyle":{"textTransform":"uppercase","fontSize":"14px"},"pageButtonStyle":{"textTransform":"uppercase","fontSize":"14px"}},"dataKey":"00567c859242a2184f9bdc1b19580f72"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<p><br></p>
<p>La <a href="#fig-nn-muni-censo" class="quarto-xref">Figura&nbsp;1</a> proporciona información, pero la tabla anterior amplia un poco esa información, apreciándose que del censo de 1842 al siguiente se redujo el número de municipios en 1933; pero esa reducción, como se aprecia en la tabla, es resultado de que desaparecieron 2.199 municipios mientras que aparecieron, o se crearon, 266.</p>
</section><section id="evolución-del-número-de-municipios-padrón" class="level2" data-number="4"><h2 data-number="4" class="anchored" data-anchor-id="evolución-del-número-de-municipios-padrón">
<span class="header-section-number">4</span> Evolución del número de municipios (Padrón)</h2>
<p>Si en lugar de los datos de los Censos, utilizamos los datos del Padrón (1996, 1998-2021) la evolución del número de municipios en España quedaría como:</p>
<div class="cell" data-hash="index_cache/html/fig-nn-muni-padron_62bc6752d1bbbdaaed7a597666e42935">
<div class="cell-output-display">
<div id="fig-nn-muni-padron" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure"><div aria-describedby="fig-nn-muni-padron-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./imagenes/plot_nn_muni_padron.png" class="img-fluid figure-img" width="1890">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-nn-muni-padron-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Gráfico&nbsp;2: Evolución del número de municipios (datos del Padrón) Juro que mejoraré el gráfico!!!
</figcaption></figure>
</div>
</div>
</div>
<p>La <a href="#fig-nn-muni-padron" class="quarto-xref">Figura&nbsp;2</a> muestra que a partir de 1996, el número de municipios ha aumentado de forma muy suave pero continuada, hasta llegar a los 8.131 municipios en 2021.</p>
</section><section id="curiosidades" class="level2" data-number="5"><h2 data-number="5" class="anchored" data-anchor-id="curiosidades">
<span class="header-section-number">5</span> Curiosidades</h2>
<p>En las <a href="#fig-nn-muni-censo" class="quarto-xref">Figura&nbsp;1</a> y <a href="#fig-nn-muni-padron" class="quarto-xref">Figura&nbsp;2</a> se muestran datos sobre la evolución del número de municipios, y hay 2 años (2001 y 2011) en que tenemos cifras para el número de municipios procedentes de 2 fuentes: Censos y padrón. ¿Coincidirán? No . Ya diré porqué. Es “logico”, bueno, puede pasar.</p>
</section><section id="biblio" class="level2" data-number="6"><h2 data-number="6" class="anchored" data-anchor-id="biblio">
<span class="header-section-number">6</span> Biblio</h2>
<p>Biblio:</p>
<ul>
<li>artículo PAIS: <a href="https://elpais.com/elpais/2017/02/02/media/1486066904_389254.html" class="uri">https://elpais.com/elpais/2017/02/02/media/1486066904_389254.html</a> La mitad de municipios puede desaparecer</li>
</ul>


</section><div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Notas</h2>
<ol>
<li id="fn1"><p>Para obtener datos de población a nivel de localidad o núcleos de población hay que acudir al <a href="https://www.ine.es/nomen2/index.do">Nomenclátor del INE</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Una localidad es una división administrativa o territorial formada por un núcleo de población con identidad propia, ya sea esta una aldea, pueblo o ciudad<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>En realidad según los códigos municipales únicos que he encontrado en la web de los censos históricos del INE<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>En realidad debería decir han sido censados.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Utilizo datos de población del Padrón continuo 1996 y 1998 a 2021<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>Hay otra forma de obtener el listado de municipios actuales; a través del <a href="https://www.mptfp.gob.es/portal/politica-territorial/local/sistema_de_informacion_local_-SIL-/registro_eell.html">Registro de entidades locales</a>, concrétamente el listado de municipios se puede obtener <a href="https://ssweb.seap.minhap.es/REL/">aquí</a>. Pues bien otra complicación más, de la que me enteré también por Paco Goerlich: en el REL existe un “municipio” (Tharsis, con código 21901) que nunca ha estado presente en el Padrón. Misterios de las estadísticas oficiales!!! Igual <a href="https://www.cope.es/emisoras/andalucia/huelva-provincia/noticias/tharsis-seguira-perteneciendo-municipio-alosno-20211217_1683097">esta noticia</a> puede arrojar algo de luz, parece que la Junta de Andalucia aprobó la segregación de Tharsis de Alosno, pero finalmente el Tribunal Supremo confirmó la sentencia del TSJA anulando el decreto de segregación de Tharsis de Alosno; sin embargo, a pesar de estar en una situación similar, si aparece en el Padrón el municipio de La Zarza-Perrunal (21902)<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol></section><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reutilizar</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.es">CC BY 4.0</a></div></div></section></div></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiada");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiada");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/perezp44\.github\.io\/Rflowers\.2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2024 Pedro J. Pérez ∙ <a class="link-dark me-1" href="https://fosstodon.org/@pjperez" title="mastodon" target="_blank" rel="noopener"><i class="fa-brands fa-mastodon" aria-label="mastodon"></i></a> ∙ <a class="link-dark me-1" href="https://github.com/perezp44" title="github" target="_blank" rel="noopener"><i class="fa-brands fa-github" aria-label="github"></i></a> ∙ <a class="link-dark me-1" href="https://orcid.org/0000-0001-9375-6330" title="orcid" target="_blank" rel="noopener"><i class="ai  ai-orcid"></i></a> ∙ <a class="link-dark me-1" href="https://scholar.google.com/citations?user=PXaWcW4AAAAJ&amp;hl=en" title="Google Scholar" target="_blank" rel="noopener"><i class="ai  ai-google-scholar"></i></a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/perezp44/Rflowers.2024/edit/master/blog_Rflowers/2022-07-13_censos-historicos_02/index.qmd" class="toc-action"><i class="bi bi-github"></i>Editar esta página</a></li><li><a href="https://github.com/perezp44/Rflowers.2024/issues/new" class="toc-action"><i class="bi empty"></i>Informar de un problema</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
<li class="nav-item">
    <a class="nav-link" href="../../license.html">
<p>Licencia</p>
</a>
  </li>  
</ul>
</div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>